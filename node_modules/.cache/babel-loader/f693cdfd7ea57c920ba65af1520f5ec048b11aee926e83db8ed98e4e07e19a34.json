{"ast":null,"code":"import { createContext, useState, useEffect, createElement, useContext } from 'react';\nvar OpenCvContext = createContext();\nvar OpenCvConsumer = OpenCvContext.Consumer,\n  Provider = OpenCvContext.Provider;\nvar scriptId = 'opencv-react';\nvar moduleConfig = {\n  wasmBinaryFile: 'opencv_js.wasm',\n  usingWasm: true\n};\nvar OpenCvProvider = function OpenCvProvider(_ref) {\n  var _ref$openCvVersion = _ref.openCvVersion,\n    openCvVersion = _ref$openCvVersion === void 0 ? '3.4.16' : _ref$openCvVersion,\n    _ref$openCvPath = _ref.openCvPath,\n    openCvPath = _ref$openCvPath === void 0 ? '' : _ref$openCvPath,\n    children = _ref.children;\n  var _React$useState = useState({\n      loaded: false,\n      cv: undefined\n    }),\n    cvInstance = _React$useState[0],\n    setCvInstance = _React$useState[1];\n  useEffect(function () {\n    if (document.getElementById(scriptId) || window.cv) {\n      return;\n    }\n    moduleConfig.onRuntimeInitialized = function () {\n      setCvInstance({\n        loaded: true,\n        cv: window.cv\n      });\n    };\n    window.Module = moduleConfig;\n    var generateOpenCvScriptTag = function generateOpenCvScriptTag() {\n      var js = document.createElement('script');\n      js.id = scriptId;\n      js.src = openCvPath || \"https://docs.opencv.org/\" + openCvVersion + \"/opencv.js\";\n      js.nonce = true;\n      js.defer = true;\n      js.async = true;\n      return js;\n    };\n    document.body.appendChild(generateOpenCvScriptTag());\n  }, [openCvPath, openCvVersion]);\n  return /*#__PURE__*/createElement(Provider, {\n    value: cvInstance\n  }, children);\n};\nvar useOpenCv = function useOpenCv() {\n  return useContext(OpenCvContext);\n};\nexport { OpenCvConsumer, OpenCvContext, OpenCvProvider, useOpenCv };","map":{"version":3,"names":["OpenCvContext","createContext","OpenCvConsumer","Consumer","Provider","scriptId","moduleConfig","wasmBinaryFile","usingWasm","OpenCvProvider","_ref","_ref$openCvVersion","openCvVersion","_ref$openCvPath","openCvPath","children","_React$useState","useState","loaded","cv","undefined","cvInstance","setCvInstance","useEffect","document","getElementById","window","onRuntimeInitialized","Module","generateOpenCvScriptTag","js","createElement","id","src","nonce","defer","async","body","appendChild","value","useOpenCv","useContext"],"sources":["/Users/shanthni/Documents/image-controls-test/image-controls-test/node_modules/opencv-react/src/lib/OpenCvProvider.js","/Users/shanthni/Documents/image-controls-test/image-controls-test/node_modules/opencv-react/src/lib/useOpenCv.js"],"sourcesContent":["import * as React from 'react'\n\nconst OpenCvContext = React.createContext()\n\nconst { Consumer: OpenCvConsumer, Provider } = OpenCvContext\n\nexport { OpenCvConsumer, OpenCvContext }\n\nconst scriptId = 'opencv-react'\nconst moduleConfig = {\n  wasmBinaryFile: 'opencv_js.wasm',\n  usingWasm: true\n}\n\nexport const OpenCvProvider = ({ openCvVersion = '3.4.16', openCvPath = '', children }) => {\n  const [cvInstance, setCvInstance] = React.useState({ loaded: false, cv: undefined });\n\n  React.useEffect(() => {\n    if (document.getElementById(scriptId) || window.cv) {\n      return\n    }\n\n    // https://docs.opencv.org/3.4/dc/de6/tutorial_js_nodejs.html\n    // https://medium.com/code-divoire/integrating-opencv-js-with-an-angular-application-20ae11c7e217\n    // https://stackoverflow.com/questions/56671436/cv-mat-is-not-a-constructor-opencv\n    moduleConfig.onRuntimeInitialized = () => {\n      setCvInstance({ loaded: true, cv: window.cv });\n    }\n    window.Module = moduleConfig\n\n    const generateOpenCvScriptTag = () => {\n      const js = document.createElement('script')\n      js.id = scriptId\n      js.src = openCvPath || `https://docs.opencv.org/${openCvVersion}/opencv.js`\n\n      js.nonce = true\n      js.defer = true\n      js.async = true\n\n      return js\n    }\n\n    document.body.appendChild(generateOpenCvScriptTag())\n  }, [openCvPath, openCvVersion])\n\n  return (\n    <Provider value={cvInstance}>\n      {children}\n    </Provider>\n  )\n}\n","import * as React from 'react'\nimport { OpenCvContext } from './OpenCvProvider'\n\nexport const useOpenCv = () => React.useContext(OpenCvContext)\n"],"mappings":";IAEMA,aAAa,GAAGC,aAAA;IAEJC,cAAA,GAA6BF,aAAA,CAAvCG,QAAA;EAA0BC,QAAA,GAAaJ,aAAA,CAAbI,QAAA;AAIlC,IAAMC,QAAQ,GAAG,cAAjB;AACA,IAAMC,YAAY,GAAG;EACnBC,cAAc,EAAE,gBADG;EAEnBC,SAAS,EAAE;AAFQ,CAArB;IAKaC,cAAc,GAAG,SAAjBA,cAAiBA,CAAAC,IAAA,EAA6D;EAAA,IAAAC,kBAAA,GAAAD,IAAA,CAA1DE,aAA0D;IAA1DA,aAA0D,GAAAD,kBAAA,cAA1C,QAA0C,GAAAA,kBAAA;IAAAE,eAAA,GAAAH,IAAA,CAAhCI,UAAgC;IAAhCA,UAAgC,GAAAD,eAAA,cAAnB,EAAmB,GAAAA,eAAA;IAAfE,QAAe,GAAAL,IAAA,CAAfK,QAAe;EAAA,IAAAC,eAAA,GACrDC,QAAA,CAAe;MAAEC,MAAM,EAAE,KAAV;MAAiBC,EAAE,EAAEC;IAArB,CAAf,CADqD;IAClFC,UADkF,GAAAL,eAAA;IACtEM,aADsE,GAAAN,eAAA;EAGzFO,SAAA,CAAgB,YAAM;IACpB,IAAIC,QAAQ,CAACC,cAAT,CAAwBpB,QAAxB,KAAqCqB,MAAM,CAACP,EAAhD,EAAoD;MAClD;IACD;IAKDb,YAAY,CAACqB,oBAAb,GAAoC,YAAM;MACxCL,aAAa,CAAC;QAAEJ,MAAM,EAAE,IAAV;QAAgBC,EAAE,EAAEO,MAAM,CAACP;MAA3B,CAAD,CAAb;IACD,CAFD;IAGAO,MAAM,CAACE,MAAP,GAAgBtB,YAAhB;IAEA,IAAMuB,uBAAuB,GAAG,SAA1BA,uBAA0BA,CAAA,EAAM;MACpC,IAAMC,EAAE,GAAGN,QAAQ,CAACO,aAAT,CAAuB,QAAvB,CAAX;MACAD,EAAE,CAACE,EAAH,GAAQ3B,QAAR;MACAyB,EAAE,CAACG,GAAH,GAASnB,UAAU,iCAA+BF,aAA/B,eAAnB;MAEAkB,EAAE,CAACI,KAAH,GAAW,IAAX;MACAJ,EAAE,CAACK,KAAH,GAAW,IAAX;MACAL,EAAE,CAACM,KAAH,GAAW,IAAX;MAEA,OAAON,EAAP;IACD,CAVD;IAYAN,QAAQ,CAACa,IAAT,CAAcC,WAAd,CAA0BT,uBAAuB,EAAjD;EACD,CA1BD,EA0BG,CAACf,UAAD,EAAaF,aAAb,CA1BH;EA4BA,oBACEmB,aAAA,CAAC3B,QAAD;IAAUmC,KAAK,EAAElB;EAAjB,GACGN,QADH,CADF;AAKD;IC/CYyB,SAAS,GAAG,SAAZA,SAAYA,CAAA;EAAA,OAAMC,UAAA,CAAiBzC,aAAjB,CAAN;AAAA,CAAlB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}